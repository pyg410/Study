## ë¬¸ì œ

ì´ë¦„ì´Â `main`Â í´ë” ì•ˆì— ì—¬ëŸ¬ê°€ì§€ íŒŒì¼ê³¼ í´ë”ê°€ ì¡´ì¬í•œë‹¤.

main
 â”œâ”€ FolderA
 â”‚    â”œâ”€ File1
 â”‚    â””â”€ File2
 â””â”€ FolderB
       â”œâ”€ FolderC
       â”œâ”€ File1
       â””â”€ File3

ìœ„ êµ¬ì¡°ëŠ”Â `main`Â í´ë”ì˜ í•˜ìœ„ êµ¬ì¡°ë¥¼ ê³„ì¸µì ìœ¼ë¡œ í‘œì‹œí•œ ê²ƒì´ë‹¤.Â `FolderA`,Â `FolderB`,Â `FolderC`ëŠ” í´ë”ì´ê³ Â `File1`,Â `File2`,Â `File3`ì€ íŒŒì¼ì´ë‹¤. íŒŒì¼ ì´ë¦„ì´ ê°™ì€ ê²½ìš°ëŠ” ë™ì¼í•œ íŒŒì¼ì´ë‹¤.

í•œ í´ë” ì•ˆì—ëŠ” ê°™ì€ ì´ë¦„ì˜ íŒŒì¼ì´ ë‘ ê°œ ì´ìƒ ì¡´ì¬í•  ìˆ˜ ì—†ë‹¤.

`main`Â í•˜ìœ„ ë””ë ‰í† ë¦¬ì— ê°™ì€ ì´ë¦„ì˜ í´ë”ê°€ ë‘ ê°œ ì´ìƒ ì¡´ì¬í•  ìˆ˜ ì—†ë‹¤.

í´ë” ì •ë¦¬ë¥¼ í•˜ê¸° ìœ„í•´Â `main`Â í´ë” í•˜ìœ„ì— ìˆëŠ” íŒŒì¼ë“¤ì„ í™•ì¸í•˜ë ¤ê³  í•œë‹¤.

ì£¼ì–´ì§€ëŠ” ì¿¼ë¦¬ì— ëŒ€í•´ í´ë”ì™€ íŒŒì¼ì˜ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ëŠ” í”„ë¡œê·¸ë¨ì„ ë§Œë“¤ì–´ë³´ì.

## ì…ë ¥

ì²« ë²ˆì§¸ ì¤„ì—ëŠ”Â `main`Â í´ë” í•˜ìœ„ì— ìˆëŠ” í´ë”ì˜ ì´ ê°œìˆ˜Â ğ‘$N$ê³¼ íŒŒì¼ì˜ ì´ ê°œìˆ˜Â ğ‘€$M$ì´ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ì£¼ì–´ì§„ë‹¤.

ë‘ ë²ˆì§¸ ì¤„ë¶€í„°Â ğ‘+ğ‘€+1$N + M + 1$Â ë²ˆì§¸ê¹Œì§€ ìƒìœ„ í´ë”ì˜ ì´ë¦„Â ğ‘ƒ$P$, í´ë” ë˜ëŠ” íŒŒì¼ì˜ ì´ë¦„Â ğ¹$F$, í´ë”ì¸ì§€ ì•„ë‹Œì§€ ì•Œë ¤ì£¼ëŠ”Â ğ¶$C$ê°€ ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ë˜ì–´ ì£¼ì–´ì§„ë‹¤.

â€Šğ¶$C$ì˜ ê°’ì€Â ğ¹$F$ê°€ í´ë”ë¼ë©´ 1, íŒŒì¼ì´ë¼ë©´ 0ìœ¼ë¡œ ì£¼ì–´ì§„ë‹¤.

â€Šğ‘+ğ‘€+2$N + M + 2$Â ë²ˆì§¸ ì¤„ì—ëŠ” ì¿¼ë¦¬ì˜ ê°œìˆ˜Â ğ‘„$Q$ê°€ ì£¼ì–´ì§„ë‹¤.

ê·¸ ë‹¤ìŒì¤„ë¶€í„°Â ğ‘„$Q$ê°œì˜ ì¿¼ë¦¬ê°€ ì£¼ì–´ì§„ë‹¤. ì¿¼ë¦¬ë§ˆë‹¤Â `main`ë¶€í„° í´ë”ì˜ ê²½ë¡œ ì •ë³´ê°€ ë“¤ì–´ì˜¨ë‹¤. ì˜ˆë¥¼ ë“¤ì–´Â `main`Â í´ë” ì•ˆì—Â `FolderB`ì— ëŒ€í•œ ì¿¼ë¦¬ê°€ ë“¤ì–´ì˜¨ë‹¤ë©´,Â `FolderB`ì˜ ê²½ë¡œì¸Â `main/FolderB`ë¡œ ì£¼ì–´ì§„ë‹¤. ë°˜ë“œì‹œ í´ë”ê°€ ì¡´ì¬í•˜ëŠ” ê²½ë¡œë¡œ ì£¼ì–´ì§ì„ ë³´ì¥í•œë‹¤.

## ì¶œë ¥

ì¿¼ë¦¬ ìˆœì„œëŒ€ë¡œ í•œ ì¤„ì”© í´ë” í•˜ìœ„ì— ìˆëŠ” íŒŒì¼ì˜ ì¢…ë¥˜ì˜ ê°œìˆ˜ì™€ íŒŒì¼ì˜ ì´ ê°œìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤.

íŒŒì¼ì˜ ì¢…ë¥˜ì˜ ê°œìˆ˜ëŠ” ê°™ì€ íŒŒì¼ì´ ì—¬ëŸ¬ê°œ ìˆì„ ê²½ìš° í•˜ë‚˜ë¡œ ê³„ì‚°í•œë‹¤. íŒŒì¼ì˜ ì´ ê°œìˆ˜ëŠ” ê°™ì€ íŒŒì¼ì´ ìˆë”ë¼ë„ í•˜ë‚˜ë¡œ ê³„ì‚°í•˜ì§€ ì•ŠëŠ”ë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì´ë¦„ì´Â `File1`Â íŒŒì¼ì´ 5ê°œê°€ ìˆì„ ê²½ìš° íŒŒì¼ì˜ ì¢…ë¥˜ëŠ” 1 ê°€ì§€ì´ê³  íŒŒì¼ì˜ ì´ ê°œìˆ˜ëŠ” 5ê°œì´ë‹¤.

## ì œí•œ

- â€Š1â‰¤ğ‘â‰¤1,000$1 \le N \le 1,000$â€Š
- â€Š1â‰¤ğ‘€â‰¤1,000$1 \le M \le 1,000$â€Š
- â€Š1â‰¤|ğ‘ƒ|â‰¤10$1 \le |P| \le 10$â€Š
- â€Š1â‰¤|ğ¹|â‰¤10$1 \le |F| \le 10$â€Š
- â€Š0â‰¤ğ¶â‰¤1$0 \le C \le 1$â€Š
- â€Š1â‰¤ğ‘„â‰¤1,000$1 \le Q \le 1,000$â€Š
- â€Šğ‘ƒ$P$ì™€Â ğ¹$F$ëŠ” ì˜ì–´ ì•ŒíŒŒë²³ ëŒ€ì†Œë¬¸ì, ìˆ«ìë¡œë§Œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.

## ì˜ˆì œ ì…ë ¥ 1Â ë³µì‚¬

3 4
main FolderA 1
main FolderB 1
FolderA File1 0
FolderA File2 0
FolderB FolderC 1
FolderB File1 0
FolderB File3 0
4
main
main/FolderA
main/FolderB
main/FolderB/FolderC

## ì˜ˆì œ ì¶œë ¥ 1Â ë³µì‚¬

3 4
2 2
2 2
0 0

`main`Â í´ë” í•˜ìœ„ì—ëŠ”Â `FolderA`Â í´ë” í•˜ìœ„ì— ìˆëŠ”Â `File1`,Â `File2`,Â `FolderB`Â í´ë” í•˜ìœ„ì— ìˆëŠ”Â `File1`,Â `File3`ì´ ìˆë‹¤.

íŒŒì¼ì˜ ì¢…ë¥˜ëŠ”Â `File1`,Â `File2`,Â `File3`Â ì´ 3ê°€ì§€ì´ê³ , íŒŒì¼ì˜ ì´ ê°œìˆ˜ëŠ”Â `File1`,Â `File2`,Â `File1`,Â `File3`Â ì´ 4ê°œì´ë‹¤.

main/FolderB/FolderCÂ í´ë” í•˜ìœ„ì— ìˆëŠ” íŒŒì¼ì€ ì•„ë¬´ê²ƒë„ ì—†ê¸° ë•Œë¬¸ì— íŒŒì¼ì˜ ì¢…ë¥˜ì™€ íŒŒì¼ì˜ ì´ ê°œìˆ˜ê°€ ëª¨ë‘ 0ì´ë‹¤.


## í’€ì´

1. í´ë”, íŒŒì¼ ì´ë¦„ ì¤‘ë³µ ë¶ˆê°€.
2. ì£¼ì–´ì§€ëŠ” ì¿¼ë¦¬ì— ëŒ€í•´ íŒŒì¼ì˜ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ëŠ” í”„ë¡œê·¸ë¨ ì œì‘í•  ê²ƒ.

í´ë”ì˜ ì´ ê°œìˆ˜ N
ì´ íŒŒì¼ì˜ ê°œìˆ˜ M

N+M+1ë²ˆì§¸ ì¤„ê¹Œì§€ ìƒìœ„ í´ë”ì˜ ì´ë¦„ P, íŒŒì¼ì˜ ì´ë¦„ F, í´ë”ì¸ì§€ ì•„ë‹Œì§€ ì•Œë ¤ì£¼ëŠ” C
3. CëŠ” 1ì¼ ê²½ìš° í´ë”
4. ì¿¼ë¦¬ì˜ ê°œìˆ˜ Q
5. ì¿¼ë¦¬ì˜ ê²½ë¡œëŠ” ë°˜ë“œì‹œ ì¡´ì¬í•œë‹¤.

ë¬¸ì œë¥¼ í•œ ë²ˆì— í’€ê¸° í˜ë“¤ì–´ì„œ, ë©”ì„œë“œë³„ ì±…ì„ì„ ë¶„ë¦¬í•´ë´¤ëŠ”ë° ê·¸ëŸ¼ì—ë„ ë˜ê²Œ ë¬¸ì œë¥¼ ìª¼ê°œê¸° í˜ë“¤ì—ˆë‹¤.

ì¼ë‹¨, í•´ë‹¹ íŒŒì¼ì˜ ì¢…ë¥˜ ê°œìˆ˜/ ì¤‘ë³µí¬í•¨ íŒŒì¼ì˜ ê°œìˆ˜ë¥¼ ì¶œë ¥í•´ì•¼ í•œë‹¤.

ì…ë ¥ ë°›ì€ íŒŒì¼ë“¤ì„ ê° Folderì— ë„£ì–´ì£¼ì—ˆê³ , Folderì— íŒŒì¼ì´ ì…ë ¥ë˜ë©´ ArrayListì— ë„£ì–´ì¤¬ë‹¤.

ê·¸ë‹¤ìŒ ì°¾ê¸° ì‰½ê²Œ, indexë¥¼ indexFolder ë©¤ë²„ì— ì €ì¥í•´ì£¼ì—ˆë‹¤.

ë§Œì•½ ìƒˆë¡œìš´ Folderë¥¼ ì €ì¥í•œë‹¤ë©´ í•´ë‹¹ ArrayList.size()-1ê°€ í´ë”ì˜ ì¸ë±ìŠ¤ê°€ ëœë‹¤.

manyëŠ” ì¤‘ë³µí¬í•¨ íŒŒì¼ ê°œìˆ˜ì´ê³ , diffëŠ” Setìë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•œ ê²ƒì„ ë³´ë©´ íŒŒì¼ì˜ ì¢…ë¥˜ ê°œìˆ˜ì¸ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

QueryëŠ” ì •ì  ë©¤ë²„ì¸ ArrayListì— ì €ì¥í•œ ë’¤, solutionë©”ì„œë“œì—ì„œ í’€ì–´ ì“°ê²Œë” í–ˆë‹¤.

init()ë©”ì„œë“œëŠ” ìµœëŒ€í•œ Inputê°’ë§Œ ë°›ê²Œ í•´ì£¼ì—ˆë‹¤.

solutionë©”ì„œë“œì—ì„œ ëª¨ë“  ë¬¸ì œë¥¼ í’€ ìˆ˜ ì—†ì–´ì„œ findFolder ë©”ì„œë“œë¥¼ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.

findFolderë©”ì„œë“œì—ì„œ ì¤‘ë³µíŒŒì¼ê°œìˆ˜/íŒŒì¼ì¢…ë¥˜ê°œìˆ˜ë¥¼ ê°ê° êµ¬í•˜ê²Œ í•´ì£¼ì—ˆê³  í•´ë‹¹ ê°’ì„ many, diffì— ê°ê° ì €ì¥í•œ í›„ output ì •ì  ë©¤ë²„ì— ì¶œë ¥ í˜•ì‹ì— ë§ê²Œ ìµœì¢… ì €ì¥í•´ì£¼ì—ˆë‹¤.

mainë©”ì„œë“œì—ì„œëŠ” í•´ë‹¹ init(), solution()ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œ í›„ ìµœì¢…ì ìœ¼ë¡œ outputì„ ì¶œë ¥í•´ì£¼ì—ˆë‹¤.

ì²˜ìŒì—ëŠ” Fileê³¼ Folderí´ë˜ìŠ¤ë¥¼ ê°ê° ë§Œë“¤ì–´ì£¼ë ¤ í–ˆìœ¼ë‚˜, ì¤‘ìš”í•œê±´ Folderë¼ì„œ File í´ë˜ìŠ¤ëŠ” ë”°ë¡œ ë§Œë“¤ì–´ì£¼ì§€ ì•Šì•˜ë‹¤.

ì™œëƒí•˜ë©´ íŒŒì¼ì˜ ê²½ìš° ê°œìˆ˜ë§Œ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— ë³„ë¡œ ì¤‘ìš”í•˜ì§€ ì•Šë‹¤.

## ì½”ë“œ


```java
package BaekJoon;  
  
import java.io.BufferedReader;  
import java.io.IOException;  
import java.io.InputStreamReader;  
import java.util.*;  
  
public class BaekJoon22860 {  
  
    private static int N, M;  
    private static ArrayList<Folder> folders;  
    private static HashMap<String, Integer> indexFolder;  
    private static Queries queries;  
    private static StringBuilder output = new StringBuilder();  
    private static int many;  
    private static HashSet<String> diff;  
  
    public static void main(String[] args) throws IOException {  
  
        // input  
        init();  
  
        // main logic  
        solution();  
  
        // output  
        System.out.println(output);  
    }  
  
    private static void solution() {  
  
        for(String query : queries.queries){  
            many = 0;  
            String[] splitQuery = query.split("/");  
            diff = new HashSet<>();  
            int index = indexFolder.getOrDefault(splitQuery[splitQuery.length-1], -1);  
            if(index == -1){  
                continue;  
            }else{  
                Folder folder = folders.get(index);  
                findFolder(folder);  
                output.append(diff.size()).append(" ").append(many).append("\n");  
            }  
        }  
  
    }  
  
    private static void findFolder(Folder folder) {  
        many += folder.files.size();  
        diff.addAll(folder.files);  
        if(folder.underFolders.size()!=0){  
            for(Folder f : folder.underFolders){  
                findFolder(f);  
            }  
        }  
    }  
  
    private static void init() throws IOException{  
  
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));  
        String[] input = br.readLine().split(" ");  
        N = Integer.parseInt(input[0]);  
        M = Integer.parseInt(input[1]);  
  
        folders = new ArrayList<>();  
        indexFolder = new HashMap<>();  
        folders.add(new Folder("main"));  
        indexFolder.put("main", 0);  
  
        for(int i =0; i<N+M; i++){  
            input = br.readLine().split(" ");  
            String upperNodeName = input[0];  
            String nodeName = input[1];  
            int nodeType = Integer.parseInt(input[2]);  
  
            if(nodeType == 1){  
                Folder f = null;  
  
                for(int j =0; j<folders.size(); j++){  
                    if(folders.get(j).folderName.equals(nodeName)){  
                        f = folders.get(j);  
                        break;                    }  
                }  
  
                if(f == null){  
                    f = new Folder(nodeName);  
                    folders.add(f);  
                    indexFolder.put(nodeName, folders.size()-1);  
                }  
  
                Folder parent = null;  
  
                if(indexFolder.get(upperNodeName) == null){  
                    parent = new Folder(upperNodeName);  
                    folders.add(parent);  
                    indexFolder.put(upperNodeName, folders.size()-1);  
                }else{  
                    int index = indexFolder.get(upperNodeName);  
                    parent = folders.get(index);  
                }  
  
                parent.underFolders.add(f);  
            } else if (nodeType == 0) {  
                Folder parent = null;  
  
                if(indexFolder.get(upperNodeName) == null){  
                    parent = new Folder(upperNodeName);  
                    folders.add(parent);  
                    indexFolder.put(upperNodeName, folders.size()-1);  
                }else{  
                    int index = indexFolder.get(upperNodeName);  
                    parent = folders.get(index);  
                }  
                parent.files.add(nodeName);  
            }  
  
  
        }  
  
        // ì¿¼ë¦¬ ì…ë ¥  
        int queryNum = Integer.parseInt(br.readLine());  
        queries = new Queries(new ArrayList<>());  
        for(int i =0; i<queryNum; i++){  
            String query = br.readLine();  
            queries.queries.add(query);  
        }  
  
    }  
  
    private static class Queries{  
        List<String> queries;  
  
        public Queries(List<String> queries){  
            this.queries = queries;  
        }  
    }  
  
  
    private static class Folder{  
  
        String folderName;  
        ArrayList<Folder> underFolders;  
        ArrayList<String> files;  
  
        public Folder(String folderName){  
            this.folderName = folderName;  
            this.underFolders = new ArrayList<>();  
            this.files = new ArrayList<>();  
        }  
    }  
  
}
```